<div class="settings-container">
  <!-- Page Header -->
  <div class="page-header">
    <div class="header-left">
      <h1>Account Settings</h1>
      <p>Manage your company settings, integrations, and preferences</p>
    </div>
    <div class="header-right">
      <button class="btn-secondary" (click)="exportData()">
        <i class="fas fa-download"></i>
        Export All Data
      </button>
    </div>
  </div>

  <!-- Settings Layout -->
  <div class="settings-layout">
    
    <!-- Settings Sidebar -->
    <div class="settings-sidebar">
      <nav class="settings-nav">
        <a 
          class="nav-item" 
          [class.active]="activeSection === 'general'"
          (click)="selectSection('general')"
        >
          <i class="fas fa-cog"></i>
          <span>General Settings</span>
        </a>
        <a 
          class="nav-item" 
          [class.active]="activeSection === 'email'"
          (click)="selectSection('email')"
        >
          <i class="fas fa-envelope"></i>
          <span>Email Configuration</span>
        </a>
        <a 
          class="nav-item" 
          [class.active]="activeSection === 'integrations'"
          (click)="selectSection('integrations')"
        >
          <i class="fas fa-plug"></i>
          <span>Integrations</span>
        </a>
        <a 
          class="nav-item" 
          [class.active]="activeSection === 'security'"
          (click)="selectSection('security')"
        >
          <i class="fas fa-shield-alt"></i>
          <span>Security</span>
        </a>
        <a 
          class="nav-item" 
          [class.active]="activeSection === 'backup'"
          (click)="selectSection('backup')"
        >
          <i class="fas fa-database"></i>
          <span>Backup & Data</span>
        </a>
        <a 
          class="nav-item danger" 
          [class.active]="activeSection === 'danger'"
          (click)="selectSection('danger')"
        >
          <i class="fas fa-exclamation-triangle"></i>
          <span>Danger Zone</span>
        </a>
      </nav>
    </div>

    <!-- Settings Content -->
    <div class="settings-content">
      
      <!-- General Settings -->
      <div class="content-section" *ngIf="activeSection === 'general'">
        <div class="section-header">
          <h2>General Settings</h2>
          <p>Configure your company information and regional settings</p>
        </div>

        <form class="settings-form">
          <div class="form-section">
            <h3>Company Information</h3>
            <div class="form-row">
              <div class="form-group">
                <label>
                  <i class="fas fa-building"></i>
                  Company Name
                </label>
                <input 
                  type="text" 
                  [(ngModel)]="settings.companyName" 
                  name="companyName"
                  placeholder="Enter company name"
                >
              </div>
              <div class="form-group">
                <label>
                  <i class="fas fa-envelope"></i>
                  Company Email
                </label>
                <input 
                  type="email" 
                  [(ngModel)]="settings.companyEmail" 
                  name="companyEmail"
                  placeholder="company&#64;example.com"
                >
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>
                  <i class="fas fa-phone"></i>
                  Company Phone
                </label>
                <input 
                  type="tel" 
                  [(ngModel)]="settings.companyPhone" 
                  name="companyPhone"
                  placeholder="+91 1234567890"
                >
              </div>
              <div class="form-group">
                <label>
                  <i class="fas fa-globe"></i>
                  Website
                </label>
                <input 
                  type="text" 
                  [(ngModel)]="settings.website" 
                  name="website"
                  placeholder="www.company.com"
                >
              </div>
            </div>

            <div class="form-group full-width">
              <label>
                <i class="fas fa-map-marker-alt"></i>
                Company Address
              </label>
              <textarea 
                [(ngModel)]="settings.companyAddress" 
                name="companyAddress"
                rows="3"
                placeholder="Enter complete address"
              ></textarea>
            </div>
          </div>

          <div class="form-section">
            <h3>Regional Settings</h3>
            <div class="form-row">
              <div class="form-group">
                <label>
                  <i class="fas fa-rupee-sign"></i>
                  Currency
                </label>
                <select [(ngModel)]="settings.currency" name="currency">
                  <option value="INR">INR - Indian Rupee</option>
                  <option value="USD">USD - US Dollar</option>
                  <option value="EUR">EUR - Euro</option>
                  <option value="GBP">GBP - British Pound</option>
                </select>
              </div>
              <div class="form-group">
                <label>
                  <i class="fas fa-clock"></i>
                  Timezone
                </label>
                <select [(ngModel)]="settings.timezone" name="timezone">
                  <option value="Asia/Kolkata">Asia/Kolkata (IST)</option>
                  <option value="America/New_York">America/New_York (EST)</option>
                  <option value="Europe/London">Europe/London (GMT)</option>
                  <option value="Asia/Dubai">Asia/Dubai (GST)</option>
                </select>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>
                  <i class="fas fa-calendar"></i>
                  Date Format
                </label>
                <select [(ngModel)]="settings.dateFormat" name="dateFormat">
                  <option value="DD/MM/YYYY">DD/MM/YYYY</option>
                  <option value="MM/DD/YYYY">MM/DD/YYYY</option>
                  <option value="YYYY-MM-DD">YYYY-MM-DD</option>
                </select>
              </div>
              <div class="form-group">
                <label>
                  <i class="fas fa-language"></i>
                  Language
                </label>
                <select [(ngModel)]="settings.language" name="language">
                  <option value="English">English</option>
                  <option value="Hindi">Hindi</option>
                  <option value="Malayalam">Malayalam</option>
                </select>
              </div>
            </div>
          </div>

          <div class="form-actions">
            <button type="button" class="btn-primary" (click)="saveGeneralSettings()">
              <i class="fas fa-save"></i>
              Save Changes
            </button>
            <button type="button" class="btn-cancel">
              Cancel
            </button>
          </div>
        </form>
      </div>

      <!-- Email Configuration -->
      <div class="content-section" *ngIf="activeSection === 'email'">
        <div class="section-header">
          <h2>Email Configuration</h2>
          <p>Configure SMTP settings for sending emails from the CRM</p>
        </div>

        <form class="settings-form">
          <div class="form-section">
            <h3>SMTP Settings</h3>
            <div class="form-row">
              <div class="form-group">
                <label>
                  <i class="fas fa-server"></i>
                  SMTP Host
                </label>
                <input 
                  type="text" 
                  [(ngModel)]="emailSettings.smtpHost" 
                  name="smtpHost"
                  placeholder="smtp.gmail.com"
                >
              </div>
              <div class="form-group">
                <label>
                  <i class="fas fa-plug"></i>
                  SMTP Port
                </label>
                <input 
                  type="text" 
                  [(ngModel)]="emailSettings.smtpPort" 
                  name="smtpPort"
                  placeholder="587"
                >
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>
                  <i class="fas fa-user"></i>
                  SMTP Username
                </label>
                <input 
                  type="text" 
                  [(ngModel)]="emailSettings.smtpUsername" 
                  name="smtpUsername"
                  placeholder="username&#64;gmail.com"
                >
              </div>
              <div class="form-group">
                <label>
                  <i class="fas fa-key"></i>
                  SMTP Password
                </label>
                <input 
                  type="password" 
                  [(ngModel)]="emailSettings.smtpPassword" 
                  name="smtpPassword"
                  placeholder="••••••••"
                >
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>
                  <i class="fas fa-envelope"></i>
                  From Email
                </label>
                <input 
                  type="email" 
                  [(ngModel)]="emailSettings.fromEmail" 
                  name="fromEmail"
                  placeholder="noreply&#64;company.com"
                >
              </div>
              <div class="form-group">
                <label>
                  <i class="fas fa-signature"></i>
                  From Name
                </label>
                <input 
                  type="text" 
                  [(ngModel)]="emailSettings.fromName" 
                  name="fromName"
                  placeholder="Company CRM"
                >
              </div>
            </div>
          </div>

          <div class="form-actions">
            <button type="button" class="btn-primary" (click)="saveEmailSettings()">
              <i class="fas fa-save"></i>
              Save Configuration
            </button>
            <button type="button" class="btn-secondary" (click)="testEmailConnection()">
              <i class="fas fa-paper-plane"></i>
              Test Connection
            </button>
          </div>
        </form>
      </div>

      <!-- Integrations -->
      <div class="content-section" *ngIf="activeSection === 'integrations'">
        <div class="section-header">
          <h2>Integrations</h2>
          <p>Connect third-party services to enhance your CRM</p>
        </div>

        <div class="integrations-grid">
          <div class="integration-card">
            <div class="integration-icon google">
              <i class="fab fa-google"></i>
            </div>
            <h3>Google Calendar</h3>
            <p>Sync meetings and appointments</p>
            <label class="toggle-switch">
              <input 
                type="checkbox" 
                [(ngModel)]="integrations.googleCalendar"
                name="googleCalendar"
              >
              <span class="slider"></span>
            </label>
          </div>

          <div class="integration-card">
            <div class="integration-icon drive">
              <i class="fab fa-google-drive"></i>
            </div>
            <h3>Google Drive</h3>
            <p>Store and manage documents</p>
            <label class="toggle-switch">
              <input 
                type="checkbox" 
                [(ngModel)]="integrations.googleDrive"
                name="googleDrive"
              >
              <span class="slider"></span>
            </label>
          </div>

          <div class="integration-card">
            <div class="integration-icon slack">
              <i class="fab fa-slack"></i>
            </div>
            <h3>Slack</h3>
            <p>Get notifications in Slack</p>
            <label class="toggle-switch">
              <input 
                type="checkbox" 
                [(ngModel)]="integrations.slack"
                name="slack"
              >
              <span class="slider"></span>
            </label>
          </div>

          <div class="integration-card">
            <div class="integration-icon whatsapp">
              <i class="fab fa-whatsapp"></i>
            </div>
            <h3>WhatsApp</h3>
            <p>Send messages via WhatsApp</p>
            <label class="toggle-switch">
              <input 
                type="checkbox" 
                [(ngModel)]="integrations.whatsapp"
                name="whatsapp"
              >
              <span class="slider"></span>
            </label>
          </div>

          <div class="integration-card">
            <div class="integration-icon zapier">
              <i class="fas fa-bolt"></i>
            </div>
            <h3>Zapier</h3>
            <p>Automate workflows</p>
            <label class="toggle-switch">
              <input 
                type="checkbox" 
                [(ngModel)]="integrations.zapier"
                name="zapier"
              >
              <span class="slider"></span>
            </label>
          </div>

          <div class="integration-card coming-soon">
            <div class="integration-icon">
              <i class="fas fa-plus"></i>
            </div>
            <h3>More Coming Soon</h3>
            <p>Request integrations</p>
          </div>
        </div>

        <div class="form-actions">
          <button type="button" class="btn-primary" (click)="saveIntegrations()">
            <i class="fas fa-save"></i>
            Save Integrations
          </button>
        </div>
      </div>

      <!-- Security -->
      <div class="content-section" *ngIf="activeSection === 'security'">
        <div class="section-header">
          <h2>Security Settings</h2>
          <p>Configure security and authentication settings</p>
        </div>

        <form class="settings-form">
          <div class="security-grid">
            <div class="security-card">
              <i class="fas fa-mobile-alt"></i>
              <h3>Two-Factor Authentication</h3>
              <p>Add an extra layer of security</p>
              <label class="toggle-switch">
                <input 
                  type="checkbox" 
                  [(ngModel)]="security.twoFactorAuth"
                  name="twoFactorAuth"
                >
                <span class="slider"></span>
              </label>
            </div>
          </div>

          <div class="form-section">
            <h3>Session & Password Policies</h3>
            <div class="form-row">
              <div class="form-group">
                <label>
                  <i class="fas fa-clock"></i>
                  Session Timeout (minutes)
                </label>
                <input 
                  type="number" 
                  [(ngModel)]="security.sessionTimeout" 
                  name="sessionTimeout"
                  placeholder="30"
                >
              </div>
              <div class="form-group">
                <label>
                  <i class="fas fa-calendar-times"></i>
                  Password Expiry (days)
                </label>
                <input 
                  type="number" 
                  [(ngModel)]="security.passwordExpiry" 
                  name="passwordExpiry"
                  placeholder="90"
                >
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>
                  <i class="fas fa-ban"></i>
                  Max Login Attempts
                </label>
                <input 
                  type="number" 
                  [(ngModel)]="security.loginAttempts" 
                  name="loginAttempts"
                  placeholder="5"
                >
              </div>
            </div>
          </div>

          <div class="form-actions">
            <button type="button" class="btn-primary" (click)="saveSecurity()">
              <i class="fas fa-save"></i>
              Save Security Settings
            </button>
          </div>
        </form>
      </div>

      <!-- Backup & Data -->
      <div class="content-section" *ngIf="activeSection === 'backup'">
        <div class="section-header">
          <h2>Backup & Data Management</h2>
          <p>Configure automatic backups and data retention</p>
        </div>

        <form class="settings-form">
          <div class="backup-card highlight">
            <i class="fas fa-database"></i>
            <div>
              <h3>Automatic Backup</h3>
              <p>Automatically backup your data regularly</p>
            </div>
            <label class="toggle-switch">
              <input 
                type="checkbox" 
                [(ngModel)]="backup.autoBackup"
                name="autoBackup"
              >
              <span class="slider"></span>
            </label>
          </div>

          <div class="form-section">
            <h3>Backup Configuration</h3>
            <div class="form-row">
              <div class="form-group">
                <label>
                  <i class="fas fa-redo"></i>
                  Backup Frequency
                </label>
                <select [(ngModel)]="backup.backupFrequency" name="backupFrequency">
                  <option value="hourly">Hourly</option>
                  <option value="daily">Daily</option>
                  <option value="weekly">Weekly</option>
                  <option value="monthly">Monthly</option>
                </select>
              </div>
              <div class="form-group">
                <label>
                  <i class="fas fa-clock"></i>
                  Backup Time
                </label>
                <input 
                  type="time" 
                  [(ngModel)]="backup.backupTime" 
                  name="backupTime"
                >
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>
                  <i class="fas fa-history"></i>
                  Retention Period (days)
                </label>
                <input 
                  type="number" 
                  [(ngModel)]="backup.retentionDays" 
                  name="retentionDays"
                  placeholder="30"
                >
              </div>
            </div>
          </div>

          <div class="form-actions">
            <button type="button" class="btn-primary" (click)="saveBackup()">
              <i class="fas fa-save"></i>
              Save Backup Settings
            </button>
            <button type="button" class="btn-secondary" (click)="performBackupNow()">
              <i class="fas fa-cloud-upload-alt"></i>
              Backup Now
            </button>
          </div>
        </form>
      </div>

      <!-- Danger Zone -->
      <div class="content-section" *ngIf="activeSection === 'danger'">
        <div class="section-header danger">
          <h2>Danger Zone</h2>
          <p>Irreversible and destructive actions</p>
        </div>

        <div class="danger-zone">
          <div class="danger-card">
            <div class="danger-content">
              <h3>Export All Data</h3>
              <p>Download a complete copy of all your CRM data</p>
            </div>
            <button class="btn-warning" (click)="exportData()">
              <i class="fas fa-download"></i>
              Export Data
            </button>
          </div>

          <div class="danger-card">
            <div class="danger-content">
              <h3>Delete Account</h3>
              <p>Permanently delete your account and all associated data. This action cannot be undone!</p>
            </div>
            <button class="btn-danger" (click)="deleteAccount()">
              <i class="fas fa-trash-alt"></i>
              Delete Account
            </button>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>